<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AIç¥å™¨å·¥åŠ</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{--primary:#00d2ff;--bg:#0a0a0f;--card:rgba(255,255,255,0.03);--text:#fff;--muted:#888}
body{font-family:-apple-system,BlinkMacSystemFont,sans-serif;background:var(--bg);color:var(--text);min-height:100vh}
.container{max-width:800px;margin:0 auto;padding:20px}
h1{text-align:center;padding:30px 0;background:linear-gradient(90deg,#00d2ff,#3a7bd5);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.nav{display:flex;gap:10px;flex-wrap:wrap;margin-bottom:20px}
.nav button{flex:1;padding:12px;background:var(--card);border:1px solid rgba(255,255,255,0.1);border-radius:8px;color:var(--muted);cursor:pointer}
.nav button.active{background:linear-gradient(90deg,#00d2ff,#3a7bd5);color:#fff}
.panel{display:none}
.panel.active{display:block}
.tool{background:var(--card);padding:25px;border-radius:16px;margin-top:20px}
.tool h2{font-size:1.3rem;margin-bottom:15px}
label{display:block;margin:15px 0 8px;color:var(--muted)}
input,select,textarea{width:100%;padding:12px;border-radius:8px;border:1px solid rgba(255,255,255,0.1);background:rgba(0,0,0,0.3);color:#fff;font-size:1rem}
textarea{min-height:100px;resize:vertical}
.btn{width:100%;padding:14px;margin-top:15px;background:linear-gradient(90deg,#00d2ff,#3a7bd5);border:none;border-radius:8px;color:#fff;font-size:1rem;font-weight:600;cursor:pointer}
.btn:hover{opacity:0.9}
.output{margin-top:20px;padding:15px;background:rgba(0,0,0,0.3);border-radius:8px;white-space:pre-wrap;line-height:1.6;display:none}
.loading{padding:20px;text-align:center;color:var(--muted)}
.error{color:#ff4444}
.tips{background:rgba(255,170,0,0.1);border:1px solid rgba(255,170,0,0.3);padding:15px;border-radius:8px;margin-bottom:20px;font-size:0.9rem;color:#ffaa00}
</style>
</head>
<body>
<div class="container">
<h1>ğŸ¤– AIç¥å™¨å·¥åŠ</h1>

<div class="tips">âš¡ AIæœåŠ¡å·²è¿æ¥ï¼Œç›´æ¥ä½¿ç”¨ï¼</div>

<div class="nav">
<button class="active" onclick="show('writing')">âœï¸ å†™ä½œ</button>
<button onclick="show('image')">ğŸ¨ ç»˜å›¾</button>
<button onclick="show('video')">ğŸ¬ è§†é¢‘</button>
<button onclick="show('data')">ğŸ“Š æ•°æ®</button>
<button onclick="show('trading')">ğŸ“ˆ äº¤æ˜“</button>
</div>

<!-- å†™ä½œ -->
<div id="writing" class="panel active">
<div class="tool">
<h2>âœï¸ AIå†™ä½œåŠ©æ‰‹</h2>
<select id="w-type">
<option value="article">ğŸ“ æ–‡ç« </option>
<option value="ad">ğŸ“£ å¹¿å‘Šæ–‡æ¡ˆ</option>
<option value="social">ğŸ’¬ ç¤¾äº¤åª’ä½“</option>
<option value="email">ğŸ“§ å•†ä¸šé‚®ä»¶</option>
<option value="product">ğŸ›ï¸ äº§å“æè¿°</option>
</select>
<textarea id="w-topic" placeholder="è¾“å…¥ä¸»é¢˜..."></textarea>
<button class="btn" onclick="gen('writing')">âœ¨ ç”Ÿæˆå†…å®¹</button>
<div id="w-output" class="output"></div>
</div>
</div>

<!-- ç»˜å›¾ -->
<div id="image" class="panel">
<div class="tool">
<h2>ğŸ¨ AIç»˜å›¾æç¤ºè¯</h2>
<textarea id="i-desc" placeholder="æè¿°ä½ æƒ³è¦ä»€ä¹ˆå›¾ç‰‡..."></textarea>
<button class="btn" onclick="gen('image')">ğŸ¨ ç”Ÿæˆæç¤ºè¯</button>
<div id="i-output" class="output"></div>
</div>
</div>

<!-- è§†é¢‘ -->
<div id="video" class="panel">
<div class="tool">
<h2>ğŸ¬ AIè§†é¢‘è„šæœ¬</h2>
<textarea id="v-topic" placeholder="è¾“å…¥è§†é¢‘ä¸»é¢˜..."></textarea>
<select id="v-style">
<option value="educational">ğŸ“š çŸ¥è¯†æ•™ç¨‹</option>
<option value="promotional">ğŸ“£ æ¨å¹¿</option>
<option value="vlog">ğŸŒŸ Vlog</option>
</select>
<button class="btn" onclick="gen('video')">ğŸ¬ ç”Ÿæˆè„šæœ¬</button>
<div id="v-output" class="output"></div>
</div>
</div>

<!-- æ•°æ® -->
<div id="data" class="panel">
<div class="tool">
<h2>ğŸ“Š AIæ•°æ®åˆ†æ</h2>
<textarea id="d-data" placeholder="ç²˜è´´æ•°æ®ï¼Œå¦‚ï¼šæ—¥æœŸ,é”€å”®é¢&#10;2024-01-01,1000&#10;2024-01-02,1200"></textarea>
<input id="d-question" placeholder="ä½ æƒ³åˆ†æä»€ä¹ˆï¼Ÿ">
<button class="btn" onclick="gen('data')">ğŸ“Š å¼€å§‹åˆ†æ</button>
<div id="d-output" class="output"></div>
</div>
</div>

<!-- äº¤æ˜“ -->
<div id="trading" class="panel">
<div class="tool">
<h2>ğŸ“ˆ AIäº¤æ˜“ç­–ç•¥</h2>
<select id="t-market">
<option value="crypto">â‚¿ åŠ å¯†è´§å¸</option>
<option value="stock">ğŸ“ˆ è‚¡ç¥¨</option>
</select>
<input id="t-symbol" placeholder="è¾“å…¥äº¤æ˜“å“ç§ï¼Œå¦‚ BTCã€ETHã€AAPL">
<button class="btn" onclick="gen('trading')">ğŸ”® ç”Ÿæˆä¿¡å·</button>
<div id="t-output" class="output"></div>
</div>
</div>
</div>

<script>
const API = 'http://localhost:5000/api/';

function show(id) {
    document.querySelectorAll('.panel').forEach(p => p.classList.remove('active'));
    document.querySelectorAll('.nav button').forEach(b => b.classList.remove('active'));
    document.getElementById(id).classList.add('active');
    event.target.classList.add('active');
}

async function gen(type) {
    let output, data = {};
    
    if (type === 'writing') {
        data = {type: document.getElementById('w-type').value, topic: document.getElementById('w-topic').value};
        output = document.getElementById('w-output');
    } else if (type === 'image') {
        data = {description: document.getElementById('i-desc').value};
        output = document.getElementById('i-output');
    } else if (type === 'video') {
        data = {topic: document.getElementById('v-topic').value, style: document.getElementById('v-style').value};
        output = document.getElementById('v-output');
    } else if (type === 'data') {
        data = {data: document.getElementById('d-data').value, question: document.getElementById('d-question').value};
        output = document.getElementById('d-output');
    } else if (type === 'trading') {
        data = {market: document.getElementById('t-market').value, symbol: document.getElementById('t-symbol').value};
        output = document.getElementById('t-output');
    }
    
    if (!Object.values(data).some(v => v)) {
        output.textContent = 'è¯·è¾“å…¥å†…å®¹';
        output.classList.add('error');
        output.style.display = 'block';
        return;
    }
    
    output.style.display = 'block';
    output.innerHTML = '<div class="loading">ğŸ¤” AIæ€è€ƒä¸­...</div>';
    
    try {
        const endpoint = {
            writing: 'writing', image: 'image', video: 'video',
            data: 'data', trading: 'trading'
        }[type];
        
        const res = await fetch(API + endpoint, {
            method: 'POST',
            headers: {'Content-Type': 'application/json'},
            body: JSON.stringify(data)
        });
        
        const json = await res.json();
        output.textContent = json.result || json.error;
        output.classList.remove('error');
    } catch (e) {
        output.textContent = 'ç½‘ç»œé”™è¯¯: ' + e.message;
        output.classList.add('error');
    }
}
</script>
</body>
</html>
